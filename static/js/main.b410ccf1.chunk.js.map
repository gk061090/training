{"version":3,"sources":["constants.js","componets/Form/Form.jsx","utils.js","componets/List/List.jsx","componets/App/App.jsx","reportWebVitals.js","index.js"],"names":["pushUps","squats","plank","fields","labels","emptyFields","reduce","prev","field","registerProps","required","validationSchema","yup","shape","obj","positive","integer","typeError","localStorageKey","Form","object","useForm","resolver","yupResolver","register","handleSubmit","errors","reset","useContext","DataContext","data","update","onSubmit","formValues","map","TextField","name","label","type","inputRef","defaultValue","error","Boolean","helperText","message","Button","variant","color","disabled","JSON","stringify","disableElevation","List","length","item","ListItem","Object","entries","key","value","Date","toLocaleDateString","join","date","initialData","parse","localStorage","getItem","createContext","App","useState","setData","Provider","prevState","state","now","setItem","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b410ccf1.chunk.js","sourcesContent":["import * as yup from \"yup\";\r\n\r\n// exercise names for training\r\nexport const pushUps = \"push_ups\";\r\nexport const squats = \"squats\";\r\nexport const plank = \"plank\";\r\n\r\nexport const fields = [pushUps, squats, plank];\r\nexport const labels = {\r\n  [pushUps]: \"Отжимания\",\r\n  [squats]: \"Приседания\",\r\n  [plank]: \"Планка (сек.)\",\r\n};\r\nexport const emptyFields = fields.reduce(\r\n  (prev, field) => ({ ...prev, [field]: null }),\r\n  {}\r\n);\r\n\r\nexport const registerProps = { required: true };\r\n\r\nexport const validationSchema = yup.object().shape(\r\n  fields.reduce(\r\n    (obj, field) => ({\r\n      ...obj,\r\n      [field]: yup\r\n        .number()\r\n        .positive(`Поле \"${labels[field]}\" должно быть положительным числом`)\r\n        .integer(`Поле \"${labels[field]}\" должно быть целым числом`)\r\n        .required(`Поле \"${labels[field]}\" обязательно`)\r\n        .typeError(`Поле \"${labels[field]}\" должно быть числом`),\r\n    }),\r\n    {}\r\n  )\r\n);\r\n\r\nexport const localStorageKey = \"training\";\r\n","import React, { useContext } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nimport { DataContext } from \"../App\";\r\nimport {\r\n  emptyFields,\r\n  fields,\r\n  labels,\r\n  registerProps,\r\n  validationSchema,\r\n} from \"../../constants\";\r\nimport { isEmptyObject } from \"../../utils\";\r\n\r\nexport const Form = () => {\r\n  const { register, handleSubmit, errors, reset } = useForm({\r\n    resolver: yupResolver(validationSchema),\r\n  });\r\n\r\n  const { data, update } = useContext(DataContext);\r\n\r\n  const submit = (formValues) => {\r\n    update(formValues);\r\n    reset(emptyFields);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(submit)}>\r\n      {fields.map((field) => (\r\n        <div key={field}>\r\n          <TextField\r\n            name={field}\r\n            label={labels[field]}\r\n            type=\"number\"\r\n            inputRef={register(registerProps)}\r\n            defaultValue={data?.[0]?.[field]}\r\n            error={Boolean(errors[field])}\r\n            helperText={errors[field]?.message}\r\n          />\r\n        </div>\r\n      ))}\r\n\r\n      <Button\r\n        type=\"submit\"\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        disabled={!isEmptyObject(errors)}\r\n        disableElevation\r\n      >\r\n        Отправить\r\n      </Button>\r\n    </form>\r\n  );\r\n};\r\n","export const isEmptyObject = (object) => JSON.stringify(object) === \"{}\";\n","import React, { useContext } from \"react\";\nimport { DataContext } from \"../App\";\nimport ListUI from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport { labels } from \"../../constants\";\n\nexport const List = () => {\n  const { data } = useContext(DataContext);\n\n  if (!data.length) {\n    return \"Нет данных\";\n  }\n\n  return (\n    <ListUI>\n      {data.map((item) => (\n        <ListItem key={item.date}>\n          {Object.entries(item)\n            .map(([key, value]) =>\n              key === \"date\"\n                ? `Дата: ${new Date(value).toLocaleDateString(\"ru-RU\")}`\n                : `${labels[key]}: ${value}`\n            )\n            .join(\" | \")}\n        </ListItem>\n      ))}\n    </ListUI>\n  );\n};\n","import React, { useState, createContext } from \"react\";\r\nimport { Form } from \"../Form\";\r\nimport { List } from \"../List\";\r\nimport { localStorageKey } from \"../../constants\";\r\n\r\nconst initialData = JSON.parse(localStorage.getItem(localStorageKey) ?? \"[]\");\r\n\r\nexport const DataContext = createContext({\r\n  data: initialData,\r\n  update: () => {},\r\n});\r\n\r\nexport const App = () => {\r\n  const [data, setData] = useState(initialData);\r\n\r\n  const update = (formValues) => {\r\n    setData((prevState) => {\r\n      const state = [{ date: Date.now(), ...formValues }, ...prevState];\r\n      localStorage.setItem(localStorageKey, JSON.stringify(state));\r\n      return state;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <p>App</p>\r\n      <DataContext.Provider value={{ data, update }}>\r\n        <Form />\r\n        <List />\r\n      </DataContext.Provider>\r\n    </div>\r\n  );\r\n};\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { App } from \"./componets/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}